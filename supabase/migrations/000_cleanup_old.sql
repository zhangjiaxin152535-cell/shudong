-- 清理旧表（先执行这个，再执行 001）
DROP TABLE IF EXISTS extensions CASCADE;
DROP TABLE IF EXISTS themes CASCADE;
DROP TABLE IF EXISTS personas CASCADE;
DROP TABLE IF EXISTS api_connections CASCADE;
DROP TABLE IF EXISTS presets CASCADE;
DROP TABLE IF EXISTS regex_scripts CASCADE;
DROP TABLE IF EXISTS world_book_entries CASCADE;
DROP TABLE IF EXISTS world_books CASCADE;
DROP TABLE IF EXISTS ai_messages CASCADE;
DROP TABLE IF EXISTS ai_conversations CASCADE;
DROP TABLE IF EXISTS ai_characters CASCADE;
DROP TABLE IF EXISTS vip_orders CASCADE;
DROP TABLE IF EXISTS notifications CASCADE;
DROP TABLE IF EXISTS reports CASCADE;
DROP TABLE IF EXISTS blocks CASCADE;
DROP TABLE IF EXISTS treehole_comments CASCADE;
DROP TABLE IF EXISTS treehole_posts CASCADE;
DROP TABLE IF EXISTS bottle_daily_limits CASCADE;
DROP TABLE IF EXISTS bottle_replies CASCADE;
DROP TABLE IF EXISTS bottles CASCADE;
DROP TABLE IF EXISTS group_messages CASCADE;
DROP TABLE IF EXISTS group_members CASCADE;
DROP TABLE IF EXISTS groups CASCADE;
DROP TABLE IF EXISTS messages CASCADE;
DROP TABLE IF EXISTS conversations CASCADE;
DROP TABLE IF EXISTS conversation_members CASCADE;
DROP TABLE IF EXISTS profiles CASCADE;
DROP TRIGGER IF EXISTS on_auth_user_created ON auth.users;
DROP FUNCTION IF EXISTS public.handle_new_user();

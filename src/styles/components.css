/* ================================
   组件：按钮 + 输入框 + 卡片 + 头像 + 通用
   ================================ */

/* 按钮 */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: 8px 16px;
  border: none;
  border-radius: var(--radius-lg);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: background .15s, opacity .15s;
}
.btn:disabled { opacity: .3; cursor: not-allowed; }
.btn-primary { background: var(--color-primary); color: #fff; }
.btn-primary:hover:not(:disabled) { background: var(--color-primary-hover); }
.btn-danger { background: var(--color-danger); color: #fff; }
.btn-danger:hover:not(:disabled) { background: #dc2626; }
.btn-success { background: var(--color-success); color: #fff; }
.btn-success:hover:not(:disabled) { background: #16a34a; }
.btn-outline { background: none; border: 1px solid var(--color-primary); color: var(--color-primary); }
.btn-outline:hover:not(:disabled) { background: #eff6ff; }
.btn-ghost { background: none; color: var(--color-gray-500); padding: 8px; }
.btn-ghost:hover:not(:disabled) { background: var(--color-gray-100); }
.btn-sm { padding: 4px 12px; font-size: 12px; }
.btn-round { border-radius: var(--radius-full); }
.btn-full { width: 100%; }
.btn-yellow { background: #fef3c7; color: #92400e; }
.btn-yellow:hover { background: #fde68a; }
.btn-gradient-ocean { background: linear-gradient(to right, var(--color-cyan), var(--color-primary)); color: #fff; border-radius: var(--radius-xl); padding: 12px; }
.btn-gradient-ocean:hover { opacity: .9; }
.btn-green-fill { background: var(--color-success); color: #fff; }
.btn-green-outline { background: #f0fdf4; color: #15803d; }
.btn-green-outline.active { background: var(--color-success); color: #fff; }

/* 图标按钮 */
.icon-btn {
  padding: 8px;
  border: none;
  background: none;
  color: var(--color-gray-400);
  cursor: pointer;
  border-radius: var(--radius-md);
  transition: color .15s, background .15s;
  display: inline-flex;
}
.icon-btn:hover { color: var(--color-primary); background: #eff6ff; }
.icon-btn:disabled { opacity: .3; cursor: not-allowed; }
.icon-btn-danger:hover { color: var(--color-danger); background: #fef2f2; }
.icon-btn-warning:hover { color: var(--color-orange); background: #fff7ed; }

/* 输入框 */
.input {
  width: 100%;
  padding: 10px 16px;
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-lg);
  font-size: 14px;
  outline: none;
  transition: border-color .15s, box-shadow .15s;
  background: #fff;
}
.input:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(59,130,246,.15); }
.input:disabled { background: var(--color-gray-100); color: var(--color-gray-400); }
.input-sm { padding: 6px 10px; font-size: 13px; }

.textarea {
  width: 100%;
  padding: 10px 16px;
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-lg);
  font-size: 14px;
  outline: none;
  resize: none;
  font-family: inherit;
}
.textarea:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(59,130,246,.15); }

.select {
  width: 100%;
  padding: 10px 16px;
  border: 1px solid var(--color-gray-300);
  border-radius: var(--radius-lg);
  font-size: 14px;
  outline: none;
  background: #fff;
  cursor: pointer;
}
.select:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(59,130,246,.15); }

/* 标签 */
.label { display: block; font-size: 12px; color: var(--color-gray-500); margin-bottom: 4px; }

/* 卡片 */
.card {
  background: #fff;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  padding: 16px;
}
.card-hover:hover { border-color: #bfdbfe; cursor: pointer; }

/* 入口大卡片（首页） */
.entry-card {
  width: 100%;
  max-width: 380px;
  padding: 24px;
  background: #fff;
  border: 1px solid var(--color-gray-100);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-md);
  cursor: pointer;
  transition: box-shadow .2s, transform .2s;
  text-align: center;
}
.entry-card:hover { box-shadow: var(--shadow-lg); transform: translateY(-4px); }
.entry-card-icon { font-size: 36px; margin-bottom: 8px; }
.entry-card-title { font-size: 18px; font-weight: 600; }
.entry-card-desc { font-size: 13px; color: var(--color-gray-500); margin-top: 4px; }

/* 头像 */
.avatar {
  border-radius: var(--radius-full);
  object-fit: cover;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-gray-200);
}
.avatar-sm { width: 24px; height: 24px; font-size: 11px; }
.avatar-md { width: 32px; height: 32px; font-size: 13px; }
.avatar-lg { width: 40px; height: 40px; font-size: 16px; }
.avatar-xl { width: 96px; height: 96px; font-size: 32px; }
.avatar-upload { cursor: pointer; position: relative; overflow: hidden; }
.avatar-upload:hover .avatar-hover-mask { opacity: 1; }
.avatar-hover-mask {
  position: absolute; inset: 0;
  background: rgba(0,0,0,.3);
  display: flex; align-items: center; justify-content: center;
  opacity: 0; transition: opacity .2s;
}

/* 消息气泡 */
.bubble {
  padding: 8px 12px;
  border-radius: 16px;
  font-size: 14px;
  line-height: 1.5;
  max-width: 75%;
  word-break: break-word;
}
.bubble-mine { background: var(--color-primary); color: #fff; border-bottom-right-radius: 4px; }
.bubble-other { background: #fff; color: var(--color-gray-800); border-bottom-left-radius: 4px; box-shadow: var(--shadow-sm); }

/* 聊天列表项 */
.chat-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #fff;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: border-color .15s;
}
.chat-item:hover { border-color: #bfdbfe; }
.chat-item-info { flex: 1; min-width: 0; }
.chat-item-top { display: flex; align-items: center; justify-content: space-between; }
.chat-item-name { font-size: 14px; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.chat-item-time { font-size: 11px; color: var(--color-gray-400); flex-shrink: 0; }
.chat-item-msg { font-size: 12px; color: var(--color-gray-500); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* 搜索结果项 */
.user-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #fff;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: border-color .15s;
}
.user-item:hover { border-color: #bfdbfe; }

/* 树洞帖子卡片 */
.post-card {
  padding: 16px;
  background: #fff;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
}
.post-author { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
.post-content { font-size: 14px; color: var(--color-gray-700); white-space: pre-wrap; margin-bottom: 12px; }
.post-actions { display: flex; align-items: center; justify-content: space-between; }

/* 通知项 */
.notif-item {
  padding: 16px;
  background: #fff;
  border: 1px solid var(--color-gray-200);
  border-radius: var(--radius-lg);
  cursor: pointer;
  transition: border-color .15s;
}
.notif-item.unread { border-color: #bfdbfe; background: rgba(219,234,254,.15); }
.notif-dot { width: 8px; height: 8px; background: var(--color-primary); border-radius: 50%; flex-shrink: 0; }

/* 分隔线 */
.divider { border-top: 1px solid var(--color-gray-200); padding-top: 16px; margin-top: 16px; }

/* 通用文字 */
.text-xs { font-size: 11px; }
.text-sm { font-size: 13px; }
.text-base { font-size: 14px; }
.text-lg { font-size: 16px; }
.text-xl { font-size: 18px; }
.text-2xl { font-size: 24px; }
.text-bold { font-weight: 600; }
.text-medium { font-weight: 500; }
.text-gray { color: var(--color-gray-400); }
.text-gray-dark { color: var(--color-gray-500); }
.text-red { color: var(--color-danger); }
.text-blue { color: var(--color-primary); }
.text-green { color: var(--color-success); }
.text-orange { color: var(--color-orange); }
.text-center { text-align: center; }
.text-right { text-align: right; }
.truncate { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* 通用间距 */
.mt-1 { margin-top: 4px; } .mt-2 { margin-top: 8px; } .mt-3 { margin-top: 12px; } .mt-4 { margin-top: 16px; }
.mb-1 { margin-bottom: 4px; } .mb-2 { margin-bottom: 8px; } .mb-3 { margin-bottom: 12px; } .mb-4 { margin-bottom: 16px; }
.ml-2 { margin-left: 8px; }
.p-4 { padding: 16px; } .p-5 { padding: 20px; } .p-6 { padding: 24px; }
.px-4 { padding-left: 16px; padding-right: 16px; }
.py-2 { padding-top: 8px; padding-bottom: 8px; }
.py-3 { padding-top: 12px; padding-bottom: 12px; }
.gap-2 { gap: 8px; } .gap-3 { gap: 12px; } .gap-4 { gap: 16px; }

/* Flex 快捷 */
.flex { display: flex; }
.flex-col { display: flex; flex-direction: column; }
.flex-center { display: flex; align-items: center; justify-content: center; }
.flex-between { display: flex; align-items: center; justify-content: space-between; }
.flex-1 { flex: 1; min-width: 0; }
.flex-wrap { flex-wrap: wrap; }
.items-start { align-items: flex-start; }
.items-center { align-items: center; }
.justify-end { justify-content: flex-end; }
.shrink-0 { flex-shrink: 0; }

/* 隐藏 */
.hidden { display: none; }
.sr-only { position: absolute; width: 1px; height: 1px; overflow: hidden; clip: rect(0,0,0,0); }

/* 空状态 */
.empty-state { padding: 32px; text-align: center; color: var(--color-gray-400); }

/* VIP 套餐选择 */
.plan-card {
  position: relative;
  padding: 16px;
  border: 2px solid var(--color-gray-200);
  border-radius: var(--radius-xl);
  cursor: pointer;
  text-align: center;
  transition: border-color .15s, background .15s;
}
.plan-card.selected { border-color: #fbbf24; background: #fffbeb; box-shadow: var(--shadow-md); }
.plan-card:hover:not(.selected) { border-color: #fde68a; }
.plan-badge {
  position: absolute;
  top: -10px; left: 50%; transform: translateX(-50%);
  padding: 2px 8px;
  background: var(--color-danger);
  color: #fff;
  font-size: 11px;
  border-radius: var(--radius-full);
}

/* 切换标签（登录/注册） */
.tab-switch {
  display: flex;
  background: var(--color-gray-100);
  border-radius: var(--radius-lg);
  padding: 4px;
  margin-bottom: 24px;
}
.tab-switch-item {
  flex: 1;
  padding: 8px;
  text-align: center;
  font-size: 14px;
  font-weight: 500;
  border-radius: var(--radius-md);
  cursor: pointer;
  color: var(--color-gray-500);
  border: none;
  background: none;
  transition: all .15s;
}
.tab-switch-item.active { background: #fff; color: var(--color-gray-800); box-shadow: var(--shadow-sm); }
